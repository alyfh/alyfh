<!doctype html>
<html lang="en" ng-app="myApp">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<script src="angular-1.3.0.js"></script>
	<style>
	.ng-cloak{
		display: none;
	}
	</style>
</head>
<body class="ng-cloak">
	<div ng-controller="ctrl">
		<h1>{{str|myFilter}}</h1>
		
	</div>
	<div style="height:400px;"></div>
	<script>
	var myModule=angular.module("myApp",[]);
	/*myModule.controller("ctrl",function($scope,$location){
		$scope.str=$location.absUrl()
	})*/
	myModule.controller("ctrl",["$scope","$location",function($scope,$location){
		$scope.str=$location.absUrl()
	}])
	/*myModule.filter("myFilter",function($location){
		return function(str){
			var s=$location.absUrl();
			var arr=s.split("/");
			return arr[2]
			
		}
	})*/
	myModule.filter("myFilter",["$location",function($location){
		return function(str){
			var s=$location.absUrl();
			var arr=s.split("/");
			return arr[2]
			
		}
	}])

	</script>
</body>
</html>